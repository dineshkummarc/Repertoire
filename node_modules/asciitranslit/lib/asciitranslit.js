(function () {
    var unicodeMap=new Array();
    var asciiMap=new Array();
    var setup=function(i,arr) {
        unicodeMap[i]=arr;
    }
    setup(0,[
        '','','','','','','','','','','','','','','','',
        '','','','','','','','','','','','','','','','',
        ' ','!','"','#','$','%','&','\'','(',')','*','+',',','-','.','/',
        '0','1','2','3','4','5','6','7','8','9',':',';','<','=','>','?',
        '@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O',
        'P','Q','R','S','T','U','V','W','X','Y','Z','[','\\',']','^','_',
        '`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o',
        'p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','',
        '','','','','','','','','','','','','','','','',
        '','','','','','','','','','','','','','','','',
        ' ','!','c/','PS','$?','Y=','|','SS','"','(c)','a','<<','!','','(r)','-',
        'deg','+-','2','3','\'','/u','P','*',',','1','o','>>','1/4','1/2','3/4','?',
        'A','A','A','A','A','A','AE','C','E','E','E','E','I','I','I','I',
        'D','N','O','O','O','O','O','x','O','U','U','U','U','U','Th','ss',
        'a','a','a','a','a','a','ae','c','e','e','e','e','i','i','i','i',
        'd','n','o','o','o','o','o','/','o','u','u','u','u','y','th','y',
    ]);
    setup(1,[
        'A','a','A','a','A','a','C','c','C','c','C','c','C','c','D','d',
        'D','d','E','e','E','e','E','e','E','e','E','e','G','g','G','g',
        'G','g','G','g','H','h','H','h','I','i','I','i','I','i','I','i',
        'I','i','IJ',"",'J','j','K','k','k','L','l','L','l','L','l','L',
        'l','L','l','N','n','N','n','N','n','\'n','ng','NG','O','o','O','o',
        'O','o','OE','oe','R','r','R','r','R','r','S','s','S','s','S','s',
        'S','s','T','t','T','t','T','t','U','u','U','u','U','u','U','u',
        'U','u','U','u','W','w','Y','y','Y','Z','z','Z','z','Z','z','s',
        'b','B','B','b','6','6','O','C','c','D','D','D','d','d','3','@',
        'E','F','f','G','G','hv','I','I','K','k','l','l','W','N','n','O',
        'O','o','OI','oi','P','p','YR','2','2','SH','sh','t','T','t','T','U',
        'u','Y','V','Y','y','Z','z','ZH','ZH','zh','zh','2','5','5','ts','w','|','||','|=','!','DZ','Dz','dz','LJ','Lj','lj','NJ','Nj','nj','A','a','I',
        'i','O','o','U','u','U','u','U','u','U','u','U','u','@','A','a',
        'A','a','AE','ae','G','g','G','g','K','k','O','o','O','o','ZH','zh',
        'j','DZ','Dz','dz','G','g','HV','W','N','n','A','a','AE','ae','O','o',
    ]);
    setup(32,[
        ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','','','','',
        '-','-','-','-','--','--','||','_','\'','\'',',','\'','"','"',',,','"',
        '+','++','*','*>','.','..','...','.','','','','','','','',' ',
        '%0','%00','\'','\'\'','\'\'\'','`','``','```','^','<','>','*','!!','!?','-','_',
        '-','^','***','--','/','-[',']-','[?]','?!','!?','7','PP','(]','[)','[?]','[?]',
        '[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]',
        '[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','','','','','','',
        '0','','','','4','5','6','7','8','9','+','-','=','(',')','n',
        '0','1','2','3','4','5','6','7','8','9','+','-','=','(',')','[?]',
        '[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]',
        'ECU','CL','Cr','FF','L','mil','N','Pts','Rs','W','NS','D','EU','K','T','Dr',
        '[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]',
        '[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]',
        '','','','','','','','','','','','','','','','',
        '','','','','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]',
        '[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]','[?]',
    ]);
    String.prototype.translit = function() {
        var res=[];
        var a,b,c;
        for (i=0;i<this.length;i++) {
            c=this.charCodeAt(i);
            a=c%256;b=(c-a)/256;
            if (unicodeMap[b]!==undefined) {
                res[i]=unicodeMap[b][a];
            } else {
                res[i]=this.charAt(i);
            }
        }
        return res.join('');
    }
    String.prototype.textOnly = function() {
        var res=this.translit();
        // res=res.replace(/["\s{}\[\]()<>+]+/gm,' ');
        // res=res.replace(/[,$%^;:#!|._]+/gm,'_');
        // res=res.replace(/-+/gm,'-').replace(/ +/gm,' ').replace(/ *__* */gm,'_');
        // res=res.replace(/__/gm,'_');
        res=res.replace(/[^\w-]/gm,' ').replace(/ +/gm,' ');
       return res;
    }
    module=module||{};
    module.exports=module.exports||{};
    module.exports.setup=setup;
}).call(this);